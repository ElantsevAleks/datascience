# Data Scientist. Аналитика. Начальный уровень
# Оглавление
* Module 1. Язык программирования R (часть 1)
* Module 3. Язык программирования R (часть 3) 
* Module 5. AB-тестирование. Часть 1
* Module 6. AB-тестирование. Часть 2

# Module 1. Язык программирования R (часть 1)
Работать с R-studio можно через docker:
* Запускается rstudio и доступно на порту 8787.
* привязывается папка, которая у вас в терминале.
* Запускается контейнер с root доступом.

```bash
docker run -d -p 8787:8787 --name studio -v ${pwd}:/home/rstudio -e ROOT=TRUE -e PASSWORD="rstudio" rocker/rstudio
```

Для подключения к терминалу контейнера можно использовать следующую команду:
```bash
# Потребуется для доустановки libxml2
docker exec -ti studio bash
```

# Module 3. Язык программирования R (часть 3) 

Возможно у вас будут проблемы с установкой библиотеки. Можно попробовать следующие:
```R
update.packages(repos='http://cran.rstudio.com/', ask=FALSE, checkBuilt=TRUE)
install.packages("tidyverse", dependencies = TRUE)
tidyverse_update()
```

Для Linux
```bash
sudo apt-get install libxml2
```

# Module 5. AB-тестирование. Часть 1
В python нужно будет загружать данные из csv, можно обойтись без pandas
```python
# Читаем текстовый файл
    # Указываем разделитель - запятую
    # Пропускаем заголовок
    # Читаем 2 столбец - OLD, NEW - третий столбец
OLD = np.genfromtxt("conversion.csv", delimiter=",", skip_header=1, usecols=1)
```

Подробности про `p-value`. **Мыслимый эксперимент:** - более подробно про [в статье](https://towardsdatascience.com/p-values-explained-by-data-scientist-f40a746cfc8)
* $H_0$ - дизайн интернет магазина, где расположена кнопка слева или справа от суммы покупки **НЕ** влияет на конверсию. *Нужно искрене верить в это утверждение.*
* Считаем `p-value`, уровень доверия установлен на `5%`.
  * `уровень доверия` - существует 5% вероятность, что кнопка на самом деле влияет на конверсию. Это совершенно НЕвозможное событие, такого быть не может т.к. мы искрене верим в $H_0$ и шанс на это всего 5%.
  * `p-value` - если разницы никакой нет точнее доли одинаковые, то оно равно нулю `\sum {dif_{new} - dif_{old}}` т.к. число кликнувших на кнопку в новом и старом дизайне совпадает (Никто не покупает только нули). Данный случай для нас не актуален т.к. нет никакой разницы, которую мы пытаемся оценить.
  * `p-value` - если НЕ равно нулю, то оно показывает, вероятность события в мире, где $H_0$ верна:
    * Все НЕ покупают на старом дизайне (160 посетителей), но кто то один на новом сайте купил (1 из 160).
    * Сделаем 5000 итераций получили `p-value = 0.2668`,  Доля = `0.00625 - 0 = 0.00625` или 0.65%. Таким образом, в мире где $H_0$ верна, существует шанс в `26.68%`, что мы зафиксируем разницу в 0.65%.
    * Если будет 2 из 160: то шанс увеличится до `32.82%` - доля `1.25`.
    * Если 3 из 160 - `56.87%` и `1.875%`; Если 4 - `55.86%` и `2.5%`, Если 10 - `54.32%` и `6.25%`, 20 - `44.68%` и `12.5%`
    * Доля постепенно увеличивается, верятность всё время разная, но при этом большая. Разная т.к. выборик генерятся рандомно, то она будет разная (если не фиксировать `seed`).
* Если `p-value` получается больше 5%:
    * то есть шанс, что произойдет `НЕвероятное` событие, кнопка влияет на долю покупателей, чем больше `p-value` тем вероятнее.
    * То отверагем $H_0$.
* Если меньше 5%, то вероятность, что мы зафиксируем разницу в доле, незначиельная.
  * То НЕ отвергаем $H_0$.


# Module 6. AB-тестирование. Часть 2
В python в текущей версии библиотеки есть выбор какую гипотезу тестируем
```python
# The alternative hypothesis can be either two-sided or one of the onesided tests, smaller means that the alternative hypothesis is ``prop < value`` and larger means ``prop > value``.
# In the two sample test, smaller means that the alternative hypothesis is ``p1 < p2`` and larger means ``p1 > p2`` where ``p1`` is the proportion of the first sample and ``p2`` of the second one.

z_stat, p_value = proportions_ztest(count, nobs, alternative='smaller')
```